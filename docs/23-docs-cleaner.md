# Documentation Cleaner - 文档清理器

## 简介

Documentation Cleaner skill用于在保留100%有价值内容的同时整合冗余文档。核心原则：**在删除之前进行批判性评估。从不盲目删除。分析每个部分的唯一价值，然后提出删除。**

## 使用场景

- 用户想要清理文档膨胀
- 合并冗余文档
- 减少文档蔓延
- 整合多个覆盖相同主题的文件
- 当文档超过500行跨多个文件覆盖相似主题时

## 工作流

### 阶段1：发现

1. 识别覆盖主题的所有文档文件
2. 计算文件中的总行数
3. 映射文档之间的内容重叠

### 阶段2：价值分析

对于每个文档，创建逐节分析表：

| 节 | 行数 | 价值 | 原因 |
|-----|-------|-------|--------|
| API参考 | 25 | 保留 | 唯一的端点文档 |
| 设置步骤 | 40 | 压缩 | 冗长但必要 |
| 测试结果 | 30 | 删除 | 一次性记录，不是参考 |

价值类别：
- **保留**：唯一、必要、频繁引用
- **压缩**：有价值但冗长
- **删除**：重复、一次性、自明、过时

见`references/value_analysis_template.md`以获取详细标准。

### 阶段3：整合计划

提出目标结构：

```
之前：726行（3个文件，高冗余）
之后：~100行（1个文件 + CLAUDE.md中的引用）
减少：86%
价值保留：100%
```

### 阶段4：执行

1. 创建包含所有有价值内容的整合文档
2. 删除冗余源文件
3. 更新引用（CLAUDE.md、README、导入）
4. 验证没有断开的链接

## 价值保留检查表

在最终确定之前，确认保留：

- [ ] 必要程序（设置、配置）
- [ ] 关键约束和注意事项
- [ ] 故障排除指南
- [ ] 技术债务 / 路线图项目
- [ ] 外部链接和引用
- [ ] 调试提示和代码片段

## 反模式

| 模式 | 问题 | 解决方案 |
|------|-------|----------|
| 盲目删除 | 丢失有价值信息 | 先逐节分析 |
| 保留所有 | 没有实现减少 | 严格应用价值标准 |
| 多个真实来源 | 未来分歧 | 单个权威位置 |
| 孤儿引用 | 断开的链接 | 整合后更新所有引用 |

## 输出成果

成功的清理产生：

1. **整合文档** - 单个权威来源
2. **价值分析** - 逐节理由
3. **前后指标** - 行数减少、价值保留
4. **更新的引用** - CLAUDE.md或README带有指向新位置的指针
