# Fact Checker - 事实检查器

## 简介

Fact Checker skill用于使用网络搜索和官方来源验证文档中的事实声明，然后提出更正并等待用户确认。支持AI模型规范、技术文档、统计数据和一般事实声明。

## 使用场景

当用户请求时触发：
- "事实检查这个文档"
- "验证这些AI模型规范"
- "检查此信息是否仍然准确"
- "更新此文件中的过时数据"
- "验证此部分中的声明"
- "检查声明的准确性"

## 工作流

复制此检查表以跟踪进度：

```
事实检查进度：
- [ ] 步骤1：识别事实声明
- [ ] 步骤2：搜索权威来源
- [ ] 步骤3：对照来源比较声明
- [ ] 步骤4：生成更正报告
- [ ] 步骤5：经用户批准后应用更正
```

### 步骤1：识别事实声明

扫描文档以查找可验证的声明：

**目标声明类型：**
- 技术规范（上下文窗口、定价、功能）
- 版本号和发布日期
- 统计数据和指标
- API能力和限制
- 基准分数和性能数据

**跳过主观内容：**
- 意见和建议
- 说明性散文
- 教程说明
- 架构讨论

### 步骤2：搜索权威来源

对于每个声明，搜索官方来源：

**AI模型：**
- 官方公告页面（anthropic.com/news、openai.com/index、blog.google）
- API文档（platform.claude.com/docs、platform.openai.com/docs）
- 开发者指南和发布说明

**技术库：**
- 官方文档站点
- GitHub仓库（发布、README）
- 包注册表（npm、PyPI、crates.io）

**一般声明：**
- 学术论文和研究
- 政府统计
- 行业标准机构

**搜索策略：**
- 使用模型名称 + 规范（例如，"Claude Opus 4.5上下文窗口"）
- 包含当前年份以获取最新信息
- 如果可能，从多个来源验证

### 步骤3：对照来源比较声明

创建比较表：

| 文档中的声明 | 来源信息 | 状态 | 权威来源 |
|-------------------|-------------------|--------|-------------|
| Claude 3.5 Sonnet：200K令牌 | Claude Sonnet 4.5：200K令牌 | ❌ 过时的模型名称 | platform.claude.com/docs |
| GPT-4o：128K令牌 | GPT-5.2：400K令牌 | ❌ 不正确的版本和规范 | openai.com/index/gpt-5-2 |

**状态代码：**
- ✅ 准确 - 声明与来源匹配
- ❌ 不正确 - 声明与来源矛盾
- ⚠️ 过时 - 声明曾经正确但已被取代
- ❓ 无法验证 - 没有找到权威来源

### 步骤4：生成更正报告

以结构化格式展示发现：

```markdown
## 事实检查报告

### 摘要
- 检查的总声明：X
- 准确：Y
- 发现的问题：Z

### 需要更正的问题

#### 问题1：过时的AI模型引用
**位置：** docs/file.md第77-80行
**当前声明：** "Claude 3.5 Sonnet：200K令牌"
**更正：** "Claude Sonnet 4.5：200K令牌"
**来源：** https://platform.claude.com/docs/en/build-with-claude/context-windows
**理由：** Claude 3.5 Sonnet已被Claude Sonnet 4.5取代（2025年9月发布）

#### 问题2：不正确的上下文窗口
**位置：** docs/file.md第79行
**当前声明：** "GPT-4o：128K令牌"
**更正：** "GPT-5.2：400K令牌"
**来源：** https://openai.com/index/introducing-gpt-5-2/
**理由：** 128K是输出限制；上下文窗口是400K。模型也已更新到GPT-5.2
```

### 步骤5：经用户批准后应用更正

**在进行更改之前：**

1. 向用户展示更正报告
2. 等待明确批准："我应该应用这些更正吗？"
3. 仅在确认后继续

**应用更正时：**

```python
# 使用Edit工具更新文档
# 示例：
Edit(
    file_path="docs/03-写作规范/AI辅助写书方法论.md",
    old_string="- Claude 3.5 Sonnet：200K令牌（约15万汉字）",
    new_string="- Claude Sonnet 4.5：200K令牌（约15万汉字）"
)
```

**更正后：**

1. 验证所有编辑成功应用
2. 注意更正摘要（例如，"在2.1节更新了4个声明"）
3. 提醒用户提交更改

## 搜索最佳实践

### 查询构建

**好的查询**（具体、当前）：
- "Claude Opus 4.5上下文窗口2026"
- "GPT-5.2官方发布公告"
- "Gemini 3 Pro令牌限制规范"

**差的查询**（模糊、泛泛）：
- "Claude上下文"
- "AI模型"
- "最新版本"

### 来源评估

**优先官方来源：**
1. 产品官方页面（最高权威）
2. API文档
3. 官方博客公告
4. GitHub发布（对于开源）

**谨慎使用：**
- 第三方聚合器（llm-stats.com等） - 对照官方来源验证
- 博客文章和文章 - 交叉参考声明
- 社交媒体 - 仅用于公告，在其他地方验证

**避免：**
- 过时的文档
- 没有引用的非官方wiki
- 推测和谣言

### 处理模糊性

当来源冲突时：

1. 优先考虑最近的官方文档
2. 在报告中注明差异
3. 向用户展示两个来源
4. 如果关键，建议联系供应商

当没有找到来源时：

1. 标记为❓无法验证
2. 建议替代措辞："根据[来源]截至[日期]..."
3. 建议添加限定词："大约"、"报告为"

## 特殊考虑

### 时间敏感信息

总是包含时间上下文：

**好的更正：**
- "截至2026年1月"
- "Claude Sonnet 4.5（2025年9月发布）"

**差的更正：**
- "最新版本"（变得过时）
- "当前模型"（模糊时间框架）

### 数值精度

匹配来源的精度：

**来源说：** "大约100万令牌"
**写：** "1M令牌（大约）"

**来源说：** "200,000令牌上下文窗口"
**写：** "200K令牌"（精确）

### 引用格式

在更正中包含引用：

```markdown
> **注**：具体上下文窗口以模型官方文档为准，本书写作时使用Claude Sonnet 4.5为主要工具。
```

如果可能，链接到来源。

## 示例

### 示例1：技术规范更新

**用户请求：** "事实检查2.1节的AI模型上下文窗口"

**过程：**
1. 识别声明：Claude 3.5 Sonnet（200K）、GPT-4o（128K）、Gemini 1.5 Pro（2M）
2. 搜索官方文档以获取当前模型
3. 找到：Claude Sonnet 4.5、GPT-5.2、Gemini 3 Pro
4. 生成显示差异的报告
5. 经批准后应用更正

### 示例2：统计数据验证

**用户请求：** "验证第5章的基准分数"

**过程：**
1. 提取数值声明
2. 搜索官方基准发布
3. 比较报告值与源值
4. 标记任何差异及源链接
5. 经批准后更新验证的数字

### 示例3：版本号验证

**用户请求：** "检查这些库版本是否仍然当前"

**过程：**
1. 列出所有提到的版本号
2. 检查包注册表（npm、PyPI等）
3. 识别过时版本
4. 建议更新及变更日志引用
5. 经用户确认后更新

## 质量检查表

在完成事实检查之前：

- [ ] 所有事实声明已识别和分类
- [ ] 每个声明对照官方来源验证
- [ ] 来源是权威和当前的
- [ ] 更正报告清晰且可操作
- [ ] 包含时间上下文（如相关）
- [ ] 在进行更改前获得用户批准
- [ ] 所有编辑验证成功
- [ ] 向用户提供摘要

## 限制

**此skill不能：**
- 验证主观意见或判断
- 访问付费墙或受限来源
- 确定有争议声明中的"真相"
- 预测未来规范或功能

**对于此类情况：**
- 在报告中注明限制
- 建议限定语言
- 建议用户研究或专家咨询
